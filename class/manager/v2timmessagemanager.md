---
description: 提供高级消息处理相关接口
---

# V2TIMMessageManager

[markGroupMessageAsRead](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/markGroupMessageAsRead.html)

##

## V2TIMMessageManager功能介绍

提供高级消息处理相关接口

## API目录

| API                                                                                                                                                                                                | 描述                                                                            |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------- |
| [addAdvancedMsgListener](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/addAdvancedMsgListener.html)                         | 添加高级消息的事件监听器                                                                  |
| [appendMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/appendMessage.html)                                           | 添加多Element消息                                                                  |
| [clearC2CHistoryMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/clearC2CHistoryMessage.html)                         | 清空单聊本地及云端的消息（不删除会话）                                                           |
| [clearGroupHistoryMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/clearGroupHistoryMessage.html)                     | 清空群聊本地及云端的消息（不删除会话）                                                           |
| [createCustomMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createCustomMessage.html)                               | 创建定制化消息                                                                       |
| [createFaceMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createFaceMessage.html)                                   | 创建表情消息                                                                        |
| [createFileMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createFileMessage.html)                                   | 创建文件消息                                                                        |
| [createForwardMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createForwardMessage.html)                             |                                                                               |
| [createImageMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createImageMessage.html)                                 | 创建图片消息（图片文件最大支持 28 MB）                                                        |
| [createLocationMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createLocationMessage.html)                           | 创建位置信息                                                                        |
| [createMergerMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createMergerMessage.html)                               | 创建合并消息                                                                        |
| [createSoundMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createSoundMessage.html)                                 | 创建音频文件                                                                        |
| [createTargetedGroupMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createTargetedGroupMessage.html)                 | 如果您需要在群内给指定群成员列表发消息，可以创建一条定向群消息，定向群消息只有指定群成员才能收到。                             |
| [createTargetedGroupMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createTargetedGroupMessage.html)                 | 如果您需要在群内给指定群成员列表发消息，可以创建一条定向群消息，定向群消息只有指定群成员才能收到。                             |
| [createTextAtMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createTextAtMessage.html)                               | 创建文本消息，并且可以附带 @ 提醒功能（最大支持 8KB） 提醒消息仅适用于在群组中发送的消息                              |
| [createTextMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createTextMessage.html)                                   | 创建文本消息                                                                        |
| [createVideoMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/createVideoMessage.html)                                 | 创建视频文件                                                                        |
| [deleteMessageFromLocalStorage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/deleteMessageFromLocalStorage.html)           | 删除本地消息                                                                        |
| [deleteMessages](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/deleteMessages.html)                                         | 删除本地及漫游消息                                                                     |
| [downloadMergerMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/downloadMergerMessage.html)                           | 获取合并消息的子消息列表（下载被合并的消息列表）                                                      |
| [findMessages](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/findMessages.html)                                             | 根据 messageID 查询指定会话中的本地消息                                                     |
| [getC2CHistoryMessageList](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/getC2CHistoryMessageList.html)                     | 获取单聊历史消息                                                                      |
| [getC2CReceiveMessageOpt](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/getC2CReceiveMessageOpt.html)                       | 查询针对某个用户的 C2C 消息接收选项                                                          |
| [getGroupHistoryMessageList](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/getGroupHistoryMessageList.html)                 | 获取群组历史消息                                                                      |
| [getGroupMessageReadMemberList](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/getGroupMessageReadMemberList.html)           | 获取群消息已读群成员列表 3.9.3及以上版本支持                                                     |
| [getHistoryMessageList](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/getHistoryMessageList.html)                           | 获取历史消息高级接口                                                                    |
| [getHistoryMessageListWithoutFormat](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/getHistoryMessageListWithoutFormat.html) | 获取历史消息高级接口(没有处理Native返回数据)                                                    |
| [getMessageReadReceipts](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/getMessageReadReceipts.html)                         | 获取消息已读回执 3.9.3及以上版本支持 该接口暂时只支持 Group 消息。 messageIDList 里的消息Id必须在同一个 Group 会话中 |
| [initGroupAttributes](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_group\_manager/V2TIMGroupManager/initGroupAttributes.html)                                   | 修改群消息接收选项                                                                     |
| [insertC2CMessageToLocalStorage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/insertC2CMessageToLocalStorage.html)         | 向C2C消息列表中添加一条消息                                                               |
| [insertGroupMessageToLocalStorage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/insertGroupMessageToLocalStorage.html)     | 设置群组消息已读                                                                      |
| [modifyMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/modifyMessage.html)                                           | 消息变更 4.0.1及以后版本支持                                                             |
| [removeAdvancedMsgListener](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/removeAdvancedMsgListener.html)                   | 移除高级消息监听器                                                                     |
| [reSendMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/reSendMessage.html)                                           | 消息重发                                                                          |
| [revokeMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/revokeMessage.html)                                           | 撤回消息                                                                          |
| [searchLocalMessages](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/searchLocalMessages.html)                               | 搜索本地消息                                                                        |
| [sendMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/sendMessage.html)                                               | 发送消息                                                                          |
| [sendMessageReadReceipts](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/sendMessageReadReceipts.html)                       | 发送消息已读回执 3.9.3及以上版本发送消息已读回执 3.9.3及以上版本支持 该接口暂时只支持 Group 消息                    |
| [sendReplyMessage](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/sendReplyMessage.html)                                     | 发送回复消息                                                                        |
| [setC2CReceiveMessageOpt](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/setC2CReceiveMessageOpt.html)                       | 设置用户消息接收选项                                                                    |
| [setGroupReceiveMessageOpt](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/setGroupReceiveMessageOpt.html)                   | 修改群消息接收选项                                                                     |
| [setLocalCustomData](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/setLocalCustomData.html)                                 | 设置消息自定义数据（本地保存，不会发送到对端，程序卸载重装后失效）                                             |
| [setLocalCustomInt](https://pub.dev/documentation/tencent\_im\_sdk\_plugin/latest/manager\_v2\_tim\_message\_manager/V2TIMMessageManager/setLocalCustomInt.html)                                   | 设置消息自定义数据，可以用来标记语音、视频消息是否已经播放（本地保存，不会发送到对端，程序卸载重装后失效）                         |
